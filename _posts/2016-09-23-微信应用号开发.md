---
title:  "微信应用号开发"
date:   2016-07-29 16:00:00 +0800
categories: [前端]
tags: [微信应用号,前端]
---

文件目录结构
---
配置好appid，项目名称，选择一个空项目文件夹，微信开发者

工具就会帮你生成项目的初始化文件(如下图)

![image]({{"images/post/20150923/init-file-instruct.png" | prepend: site.baseurl }})

pages是页面文件的目录，里面每个文件夹代表一个页面。

        一个页面包涵一个js文件，一个wxml（可以看作html），一个wxss（可以看作css文件）

utils用于存放工具或者公用方法。

app.js是应用号的主入口。这里可以通过app的生命周期做业务处理。

    App({
      onLaunch: function () {
        //调用API从本地缓存中获取数据
        var logs = wx.getStorageSync('logs') || []
        logs.unshift(Date.now())
        wx.setStorageSync('logs', logs)
      },
      getUserInfo:function(cb){
        var that = this;
        if(this.globalData.userInfo){
          typeof cb == "function" && cb(this.globalData.userInfo)
        }else{
          //调用登录接口
          wx.login({
            success: function () {
              wx.getUserInfo({
                success: function (res) {
                  that.globalData.userInfo = res.userInfo;
                  typeof cb == "function" && cb(that.globalData.userInfo)
                }
              })
            }
          });
        }
      },
      globalData:{
        userInfo:null
      }
    })

app.json是当前项目的目录配置

app.wxss是公用的样式文件

